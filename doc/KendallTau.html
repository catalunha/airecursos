<HTML>                                                           
<HEAD>
<title>Kendall's tau Distribution Function</title>

<SCRIPT LANGUAGE="JavaScript">
<!-- 
var a = new Array(301);
var b = new Array(277);
var nsav=0,n,w,factn;

for (i=1;i<=301;i++) {
	a[i]=0
}
 
function normalcdf(X){   //HASTINGS.  MAX ERROR = .000001
	var T=1/(1+.2316419*Math.abs(X));
	var D=.3989423*Math.exp(-X*X/2);
	var Prob=D*T*(.3193815+T*(-.3565638+T*(1.781478+T*(-1.821256+T*1.330274))));
	if (X>0) {
		Prob=1-Prob
	}
	return Prob
}

function taucdf(n,w) {
	var Prob,m,k,i;	
	if (w<0) {
		Prob=0
	} else if (w>=n*(n-1)/2) {
		Prob=1
	} else {
		if (n!=nsav) {
			a[0]=1;
			for (i=1;i<=n*(n-1)/2;i++) {
				a[i]=0
			}
			m=0;
			factn=1;
			for (k=2;k<=n;k++) {
				for (i=0;i<=m;i++) {
					b[i]=a[i]
				}
				for (i=1;i<k;i++) {
					for (j=i;j<=m+i;j++) {
						a[j]=a[j]+b[j-i]
					}
				}
				m=k*(k-1)/2;
				factn=factn*k
			}
			nsav=n;
		}
		sum=0;
		for (i=0;i<=w;i++) {
			sum=sum+a[i];
		}
		Prob=sum/factn
	}
	return Prob
}

function compute(form) {
    n=Math.floor(eval(form.samplesize.value));
    w=Math.floor(eval(form.cutoff.value));
	if (n<1) {
		alert("n must be positive")
	} else if (n>25) {
		mean = n*(n-1)/4;
		variance = n*(n+1)*(2*n+5.5)/72;
		z=(w-mean+.5)/Math.sqrt(variance);
		Prob=normalcdf(z);
	} else {
		Prob=taucdf(n,w);
	}
	form.result.value =Math.round(Prob*10000)/10000+" ";
}
// done hiding from old browsers -->
</SCRIPT>
</HEAD>

<BODY>
<center>
<hr size=5>
<h1>Distribution of Kendall's tau</h1>
<i>JavaScript</i>
<hr size=5>

The Kendall's tau, T<sub>n</sub>, is the number of discordances in a 
permutation,<br>
(R<sub>1</sub>,R<sub>2</sub>,...,R<sub>n</sub>), of the integers from 
1 to n.  A discordance occurs<br>
if i is less than j and R<sub>i</sub> is greater than R<sub>j</sub>.  
Here you can find the distribution<br>
of Kendall's tau when the permutation is chosen at random 
uniformly<br>
over all n! permutations. 
<hr>
<FORM>
<pre>
      Enter Kendall tau Arguments:

      sample size n: <INPUT TYPE="text" NAME="samplesize" Value="10" SIZE=15>
            t-value: <INPUT TYPE="text" NAME="cutoff" Value="22" SIZE=15>
</pre>

<BR>

 P(T<sub>n</sub> <= t):
<INPUT TYPE="text" NAME="result" SIZE=21>
<INPUT TYPE="button" VALUE="Calculate" ONCLICK="compute(this.form)">
<BR>
</FORM>
<hr>
The statistic T<sub>n</sub> takes values between 0 and n(n-1)/2 inclusive.<br>
The mean of T<sub>n</sub> is n(n-1)/4, and the variance is n(n+1)(2n+5)/72.
<p>
The distribution function of T<sub>n</sub> is computed exactly for n<=25.<br>
For n>25, a normal approximation with continuity correction is used.<br>
For n>25, the maximum absolute error of the approximation is .001.
</center>
</BODY>
</HTML>

